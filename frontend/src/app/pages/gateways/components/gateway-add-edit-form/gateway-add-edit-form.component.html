<div class="info-box table-container">
    <div class="info-box-content">
        <!-- server errors box -->
        <div
            *ngIf="serverErrors.length > 0"
            class="card card-danger card-outline"
        >
            <div class="card-body">
                <h5 class="card-title">Server errors</h5>

                <div class="card-text">
                    <ul>
                        <li *ngFor="let item of serverErrors">{{ item }}</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- server errors box end -->
        <form [formGroup]="gatewayForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <div class="row">
                    <div class="col-md-4">
                        <label for="serialNumber"
                            >{{ fields.serialNumber }}:
                        </label>
                        <input
                            id="serialNumber"
                            type="text"
                            [class.is-invalid]="serialNumber.invalid && (serialNumber.dirty || serialNumber.touched)"
                            class="form-control"
                            formControlName="serialNumber"
                        />

                        <span class="error invalid-feedback" *ngIf="serialNumber.errors?.['required']">{{fields.serialNumber}} is required</span>
                        <span class="error invalid-feedback" *ngIf="serialNumber.errors?.['maxlength']">{{fields.serialNumber}} must have not more than 24 characters</span>

                    </div>
                    <div class="col-md-4">
                        <label for="name">{{ fields.name }}: </label>
                        <input
                            id="name"
                            type="text"
                            class="form-control"
                            [class.is-invalid]="name.invalid && (name.dirty || name.touched)"
                            formControlName="name"
                        />

                        <span class="error invalid-feedback" *ngIf="name.errors?.['required']">{{fields.name}} is required</span>
                        <span class="error invalid-feedback" *ngIf="name.errors?.['maxlength']">{{fields.name}} must have not more than 24 characters</span>
                    </div>
                    <div class="col-md-4">
                        <label for="ipv4">{{ fields.ipv4 }}: </label>
                        <input
                            id="ipv4"
                            type="text"
                            [class.is-invalid]="ipv4.invalid && (ipv4.dirty || ipv4.touched)"
                            class="form-control"
                            formControlName="ipv4"
                        />

                        <span class="error invalid-feedback" *ngIf="ipv4.errors?.['required']">{{fields.ipv4}} is required</span>
                        <span class="error invalid-feedback" *ngIf="ipv4.errors?.['ipv4']">{{fields.ipv4}} is not a valid ip v4</span>

                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button
                    type="submit"
                    [disabled]="loading"
                    class="btn btn-default"
                    [routerLink]="['/']"
                >
                    Cancel
                </button>
                <button
                    type="submit"
                    class="btn btn-primary float-right"
                    [disabled]="!gatewayForm.valid"
                >
                    Save
                </button>
            </div>
        </form>
        <div *ngIf="loading" class="overlay">
            <i class="fas fa-2x fa-sync-alt fa-spin"></i>
        </div>
    </div>
</div>
